function init(){for(var a=0;a<employeeArray.length;a++)appendDom(employeeArray[a]);calcMonthlyPayroll(employeeArray)}function enable(){$(".empContainer").on("click",".delete",deleteEmployee),$(".toggleForm").on("click",toggle),$("#employee-form").on("submit",processForm)}function appendDom(a){primaryKey++,a.key=primaryKey,marvel(a)}function Employee(a,b,c,d,e){this.firstName=a,this.lastName=b,this.employeeId=c,this.employeeTitle=d,this.employeeSalary=e,employeeArray.push(this)}function deleteEmployee(){removeFromPayroll($(this).parent().data().data),$(this).parent().remove()}function processForm(a){a.preventDefault();var b={};$.each($("#employee-form").serializeArray(),function(a,c){b[c.name]=c.value}),console.log(b),appendDom(b),employeeArray.push(b),$("#employee-form").find("input[type=text],input[type=number]").val(""),calcMonthlyPayroll(employeeArray)}function calcMonthlyPayroll(a){total=0;for(var b=0;b<a.length;b++)a[b].employeeSalary&&(total+=Math.round(parseInt(a[b].employeeSalary)/12));$(".total-monthly-salary").html("Current Monthly Payroll is : $"+total)}function removeFromPayroll(a){console.log(a);for(var b=0;b<employeeArray.length;b++)a==employeeArray[b].key&&(employeeArray.splice(b,1),calcMonthlyPayroll(employeeArray))}function marvel(a){var b=a.employeeTitle,c={};$.ajax({type:"GET",url:"http://gateway.marvel.com//v1/public/characters?nameStartsWith="+b+"&",data:{apikey:"You Will Need To Sign ",ts:"Up For YOur Own",hash:"Marvel Api Key. @developer.marvel.com"},headers:{Accept:"*/*"},success:function(b){console.log(b),b.data.results.length>0?(randomNumber(0,b.data.results.length-1),c=b.data.results[randomNum].thumbnail.path+"/standard_xlarge.jpg"):c="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available/standard_xlarge.jpg",a.image=c,$(".empContainer").append("<div class='well col-sm-3'></div>"),$el=$(".empContainer").children().last(),$el.data("data",a.key),$el.append("<p>Name: "+a.firstName+" "+a.lastName+"</p>"),$el.append("<p>Id #: "+a.employeeId+"</p>"),$el.append("<p>Alias: "+a.employeeTitle+"</p>"),$el.append("<p>Salary: "+a.employeeSalary+"</p>"),$el.append('<img class="img-responsive img-rounded" src='+a.image+" >"),$el.append('<button class="btn btn-danger delete"> remove employee </button>')}})}function randomNumber(a,b){randomNum=Math.floor(Math.random()*(1+b-a)+a),console.log(randomNum)}function toggle(){$("#employee-form").slideToggle()}var employeeArray=[],total=0,primaryKey=0,randomNum=0;$(document).ready(function(){init(),enable()});var deadpool=new Employee("Wade","Wilson",1999,"Deadpool",55e3),ghostRider=new Employee("Johnny","Blaze",1968,"Ghost Rider",24e3),doctorStrange=new Employee("Vincent","Strange",1969,"Doctor Strange",36e4),spidey=new Employee("Peter","Parker",1967,"Spider-Man",29e3),magneto=new Employee("Max","Eisenhardt",1965,"Magneto",24e4),cyclops=new Employee("Scott","Summers",1963,"Cyclops",47e3),profX=new Employee("Charles","Xavier",1964,"Professor X",65e3),beast=new Employee("Hank","Mccoy",1966,"Beast",24e3),starLord=new Employee("Peter","Quill",1976,"Star-Lord",24e3),hulk=new Employee("Bruce","Banner",1977,"Hulk",214e3),ironMan=new Employee("Tony","Stark",1976,"Iron Man",12124e3),bob=new Employee("Bob","Agent of Hydra",1986,"Bob",55e3);console.log(employeeArray);