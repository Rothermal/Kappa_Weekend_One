function init(){for(var a=0;a<employeeArray.length;a++)appendDom(employeeArray[a]);calcMonthlyPayroll(employeeArray)}function enable(){$(".empContainer").on("click",".delete",deleteEmployee),$("#employee-form").on("submit",processForm)}function appendDom(a){primaryKey++,a.key=primaryKey,marvel(a),console.log(a.image)}function Employee(a,b,c,d,e){this.firstName=a,this.lastName=b,this.employeeId=c,this.employeeTitle=d,this.employeeSalary=e,employeeArray.push(this)}function deleteEmployee(){removeFromPayroll($(this).parent().data().data),$(this).parent().remove()}function processForm(a){a.preventDefault();var b={};$.each($("#employee-form").serializeArray(),function(a,c){b[c.name]=c.value}),console.log(b),appendDom(b),employeeArray.push(b),$("#employee-form").find("input[type=text],input[type=number]").val(""),calcMonthlyPayroll(employeeArray)}function calcMonthlyPayroll(a){total=0;for(var b=0;b<a.length;b++)a[b].employeeSalary&&(total+=parseInt(a[b].employeeSalary)/12);$(".total-monthly-salary").html("Current Monthly Payroll is : $"+total)}function removeFromPayroll(a){console.log(a);for(var b=0;b<employeeArray.length;b++)a==employeeArray[b].key&&(employeeArray.splice(b,1),calcMonthlyPayroll(employeeArray))}function marvel(a){var b=a.employeeTitle,c={};$.ajax({type:"GET",url:"http://gateway.marvel.com//v1/public/characters?nameStartsWith="+b+"&",data:{apikey:"d585431f4c1290561110dd9e60330887",ts:"1456602377",hash:"bd16a3bcd9a050ba9ddc2d71b81f4ce4"},headers:{Accept:"*/*"},success:function(b){console.log(b),c=b.data.results[0],0===c.length?a.image="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available/standard_xlarge.jpg":a.image=c.thumbnail.path+"/standard_xlarge.jpg",$(".empContainer").append("<div class='well col-sm-4'></div>"),$el=$(".empContainer").children().last(),$el.data("data",a.key),$el.append("<p>"+a.firstName+"</p>"),$el.append("<p>"+a.lastName+"</p>"),$el.append("<p>"+a.employeeId+"</p>"),$el.append("<p>"+a.employeeTitle+"</p>"),$el.append("<p>"+a.employeeSalary+"</p>"),$el.append("<img src="+a.image+" >"),$el.append('<button class="btn btn-danger delete"> remove employee </button>')}})}var employeeArray=[],total=0,primaryKey=0;$(document).ready(function(){init(),enable()});var cyclops=new Employee("Scott","Summers",1963,"Cyclops",12e3),profX=new Employee("Charles","Xavier",1963,"Professor X",12e3),magneto=new Employee("Max","Eisenhardt",1963,"Magneto",24e3),beast=new Employee("Hank","Mccoy",1963,"Beast",24e3),spidey=new Employee("Peter","Parker",1963,"Spider-Man",24e3),ghostRider=new Employee("Johnny","Blaze",1940,"Ghost Rider",24e3),starLord=new Employee("Peter","Quill",1976,"Star-Lord",24e3),doctorStrange=new Employee("Vincent","Strange",1963,"Doctor Strange",36e3);console.log(employeeArray);