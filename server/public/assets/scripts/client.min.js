function init(){for(var a=0;a<employeeArray.length;a++)marvel(employeeArray[a]);calcMonthlyPayroll(employeeArray)}function enable(){$(".empContainer").on("click",".delete",deleteEmployee),$(".get-random-char").on("click",randomCharacter),$(".get-random-comic").on("click",randomComic),$(".get-random-series").on("click",randomSeries),$("#employee-form").on("submit",processForm)}function Employee(a,b,c,d,e){this.firstName=a,this.lastName=b,this.employeeId=c,this.employeeTitle=d,this.employeeSalary=e,employeeArray.push(this)}function deleteEmployee(){removeFromPayroll($(this).parent().data().data),$(this).parent().remove()}function processForm(a){a.preventDefault();var b={};$.each($("#employee-form").serializeArray(),function(a,c){b[c.name]=c.value}),console.log(b),marvel(b),employeeArray.push(b),$("#employee-form").find("input[type=text],input[type=number]").val(""),calcMonthlyPayroll(employeeArray)}function calcMonthlyPayroll(a){total=0;for(var b=0;b<a.length;b++)a[b].employeeSalary&&(total+=Math.round(parseInt(a[b].employeeSalary)/12));$(".total-monthly-salary").html("Current Monthly Payroll is : $"+total)}function removeFromPayroll(a){console.log(a);for(var b=0;b<employeeArray.length;b++)a==employeeArray[b].key&&(employeeArray.splice(b,1),calcMonthlyPayroll(employeeArray))}function marvel(a){var b=a.employeeTitle;$.ajax({type:"GET",url:"http://gateway.marvel.com//v1/public/characters?name="+b+"&",data:{apikey:apiKey,ts:apiTs,hash:apiHash},headers:{Accept:"*/*"},success:function(b){console.log(b),results=b.data.results,results.length>0?(randomNum=randomNumber(0,results.length-1),marvelApiImage=results[randomNum].thumbnail.path+"/standard_xlarge.jpg",marvelCharId=results[randomNum].id,marvelApiDescription=results[randomNum].description.length>0?results[randomNum].description:"No Back Story Available "):(marvelApiImage="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available/standard_xlarge.jpg",marvelApiDescription="No Back Story Available "),a.image=marvelApiImage,a.description=marvelApiDescription,a.employeeId=marvelCharId,marvelArray.push(b),AppendDom(a)}})}function randomNumber(a,b){return Math.floor(Math.random()*(1+b-a)+a)}function randomCharacter(){var a=randomNumber(1,1484),b={};$.ajax({type:"GET",url:"http://gateway.marvel.com:80/v1/public/characters?limit=1&offset="+a+"&",data:{apikey:apiKey,ts:apiTs,hash:apiHash},headers:{Accept:"*/*"},success:function(a){console.log(a),results=a.data.results,results.length>0?(randomNum=randomNumber(0,results.length-1),marvelApiImage=results[randomNum].thumbnail.path+"/standard_xlarge.jpg",marvelCharId=results[randomNum].id,marvelName=results[randomNum].name,marvelApiDescription=results[randomNum].description.length>0?results[randomNum].description:"No Back Story Available ",console.log(marvelCharId)):(marvelApiImage="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available/standard_xlarge.jpg",marvelApiDescription="No Back Story Available "),b.employeeTitle=marvelName,b.image=marvelApiImage,b.description=marvelApiDescription,b.employeeId=marvelCharId,marvelArray.push(a),AppendDom(b)}})}function AppendDom(a){primaryKey++,a.key=primaryKey,$(".empContainer").append("<div class='well col-sm-3'></div>"),$el=$(".empContainer").children().last(),$el.data("data",a.key),$el.append("<p>Name: "+a.firstName+" "+a.lastName+"</p>"),$el.append("<p>Id #: "+a.employeeId+"</p>"),$el.append("<p>Alias: "+a.employeeTitle+"</p>"),$el.append("<p>Salary: "+a.employeeSalary+"</p>"),$el.append('<img class="img-responsive img-circle" src='+a.image+" >"),$el.append("<p>BackStory: "+a.description+"</p>"),$el.append('<button class="btn btn-danger delete"> Remove Employee </button>'),$el.append('<button class="btn btn-primary moreinfo"> More Info </button>')}function randomComic(){var a=randomNumber(1,36508),b={};$.ajax({type:"GET",url:"http://gateway.marvel.com:80/v1/public/comics?limit=1&offset="+a+"&",data:{apikey:apiKey,ts:apiTs,hash:apiHash},headers:{Accept:"*/*"},success:function(a){console.log(a),results=a.data.results,results.length>0?(randomNum=randomNumber(0,results.length-1),marvelApiImage=results[randomNum].thumbnail.path+"/standard_xlarge.jpg",marvelCharId=results[randomNum].id,marvelName=results[randomNum].title,marvelApiDescription=null!==results[randomNum].description?results[randomNum].description:"No description Available ",console.log(marvelCharId)):(marvelApiImage="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available/standard_xlarge.jpg",marvelApiDescription="No discription Available "),b.employeeTitle=marvelName,b.image=marvelApiImage,b.description=marvelApiDescription,b.employeeId=marvelCharId,marvelArray.push(a),AppendDomComic(b)}})}function AppendDomComic(a){primaryKey++,a.key=primaryKey,$(".empContainer").append("<div class='well col-sm-3'></div>"),$el=$(".empContainer").children().last(),$el.data("data",a.key),$el.append("<p>Name: "+a.firstName+" "+a.lastName+"</p>"),$el.append("<p>Id #: "+a.employeeId+"</p>"),$el.append("<p>Alias: "+a.employeeTitle+"</p>"),$el.append("<p>Salary: "+a.employeeSalary+"</p>"),$el.append('<img class="img-responsive " src='+a.image+" >"),$el.append("<p>BackStory: "+a.description+"</p>"),$el.append('<button class="btn btn-danger delete"> Remove Employee </button>')}function randomSeries(){var a=randomNumber(1,68),b={};$.ajax({type:"GET",url:"http://gateway.marvel.com:80/v1/public/series?limit=1&offset="+a+"&",data:{apikey:apiKey,ts:apiTs,hash:apiHash},headers:{Accept:"*/*"},success:function(a){console.log(a),results=a.data.results,results.length>0?(randomNum=randomNumber(0,results.length-1),marvelApiImage=results[randomNum].thumbnail.path+"/standard_xlarge.jpg",marvelCharId=results[randomNum].id,marvelName=results[randomNum].title,marvelApiDescription=null!==results[randomNum].description?results[randomNum].description:"No Back Story Available ",console.log(marvelCharId)):(marvelApiImage="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available/standard_xlarge.jpg",marvelApiDescription="No Back Story Available "),b.employeeTitle=marvelName,b.image=marvelApiImage,b.description=marvelApiDescription,b.employeeId=marvelCharId,marvelArray.push(a),AppendDomComic(b)}})}var employeeArray=[],total=0,primaryKey=0,randomNum=0,marvelArray=[],marvelCharId=0,apiCharacters="v1/public/characters",apiComics="v1/public/comics",apiSeries="v1/public/series",apiEvents="v1/public/events",marvelApiImage={},marvelApiDescription="",marvelName="",results={},apiKey="please sign up for an api key at",apiTs="developers.marvel.com",apiHash="thank you";$(document).ready(function(){init(),enable()}),console.log(employeeArray);